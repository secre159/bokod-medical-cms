## How to connect to your PostgreSQL database and fix the users table

### Step 1: Connect using psql
```bash
psql "postgresql://bokod_user:QDpObjPcGz2zyBChhBbH2p5L1NJjCNZ7@dpg-d39vbvjipnbc73b76ddg-a.singapore-postgres.render.com/bokod_cms"
```

### Step 2: Run the fix commands one by one

1. Add the approved_at column (the main issue):
```sql
ALTER TABLE users ADD COLUMN IF NOT EXISTS approved_at TIMESTAMP NULL;
```

2. Add other missing columns:
```sql
ALTER TABLE users ADD COLUMN IF NOT EXISTS role VARCHAR(50) DEFAULT 'patient';
ALTER TABLE users ADD COLUMN IF NOT EXISTS status VARCHAR(50) DEFAULT 'active';
ALTER TABLE users ADD COLUMN IF NOT EXISTS registration_status VARCHAR(50) DEFAULT 'approved';
ALTER TABLE users ADD COLUMN IF NOT EXISTS registration_source VARCHAR(50) DEFAULT 'admin';
ALTER TABLE users ADD COLUMN IF NOT EXISTS approved_by BIGINT NULL;
ALTER TABLE users ADD COLUMN IF NOT EXISTS rejection_reason TEXT NULL;
ALTER TABLE users ADD COLUMN IF NOT EXISTS display_name VARCHAR(255) NULL;
ALTER TABLE users ADD COLUMN IF NOT EXISTS profile_picture VARCHAR(255) NULL;
```

3. Verify the fix worked:
```sql
\d users
```

4. Exit psql:
```sql
\q
```

### Step 3: Test registration
After running these commands, try registering a new patient on your website.

### Alternative: Use Render Shell
You can also run these in Render's Shell for your service:
1. Go to Render Dashboard
2. Open your service
3. Go to Shell tab
4. Run: `php artisan tinker`
5. Then run: `DB::statement("ALTER TABLE users ADD COLUMN IF NOT EXISTS approved_at TIMESTAMP NULL;");`